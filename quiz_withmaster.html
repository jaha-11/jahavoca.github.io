
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>자하 퀴즈 - 위드마스터 2000 단어</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fffdf6;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
    }
    #question {
      font-size: 30px;
      font-weight: bold;
      text-align: center;
      word-break: keep-all;
      margin-bottom: 24px;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 90%;
    }
    .choice {
      padding: 14px;
      background: #eee;
      border-radius: 12px;
      text-align: center;
      font-size: 16px;
    }
    .correct {
      background-color: #c8f7c5 !important;
      border: 2px solid #2ecc71;
    }
    .controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 20px;
    }
    .nav-btn {
      padding: 10px 16px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="question">문제 로딩 중...</div>
  <div class="choices" id="choices"></div>
  <div class="controls">
    <button class="nav-btn" onclick="goBack()">⬅️ 이전</button>
    <button class="nav-btn" id="pauseBtn" onclick="togglePause()">⏸ 일시 정지</button>
    <button class="nav-btn" onclick="goNext(true)">➡️ 다음</button>
  </div>
  <script>
    const quiz = [{'단어': 'envy', '뜻': '부러움'}, {'단어': 'research', '뜻': '연구하다, 조사하다'}, {'단어': 'imprint', '뜻': '찍다, 각인시키다'}, {'단어': 'present', '뜻': '현재의, 나타나다'}, {'단어': 'identical', '뜻': '동일한'}, {'단어': 'abolish', '뜻': '폐지하다'}, {'단어': 'temperate', '뜻': '온화한, 절제하는'}, {'단어': 'influence', '뜻': '영향을 끼치다'}, {'단어': 'suitable', '뜻': '적합한'}, {'단어': 'swamp', '뜻': '늪, 습지, 압도하다'}, {'단어': 'lord', '뜻': '군주'}, {'단어': 'decode', '뜻': '해독하다'}, {'단어': 'pitfall', '뜻': '함정, 위험'}, {'단어': 'blunt', '뜻': '무딘, 퉁명스러운'}, {'단어': 'improve', '뜻': '향상시키다'}, {'단어': 'feed', '뜻': '먹이다, 부양하다'}, {'단어': 'virtue', '뜻': '미덕'}, {'단어': 'spike', '뜻': '못, 대못'}, {'단어': 'pottery', '뜻': '도자기'}, {'단어': 'philosophy', '뜻': '철학'}, {'단어': 'symptom', '뜻': '증상'}, {'단어': 'surrender', '뜻': '항복하다, 포기하다'}, {'단어': 'artery', '뜻': '동맥'}, {'단어': 'bid', '뜻': '입찰하다'}, {'단어': 'stance', '뜻': '입장, 태도'}, {'단어': 'diameter', '뜻': '지름, 직경'}, {'단어': 'translate', '뜻': '번역하다'}, {'단어': 'annoy', '뜻': '짜증나게 하다'}, {'단어': 'substitute', '뜻': '대체하다'}, {'단어': 'sophisticated', '뜻': '정교한, 세련된'}, {'단어': 'corporate', '뜻': '법인의'}, {'단어': 'radius', '뜻': '반지름'}, {'단어': 'provide', '뜻': '공급하다, 준비하다'}, {'단어': 'harm', '뜻': '해, 해치다'}, {'단어': 'submit', '뜻': '제출하다, 복종하다'}, {'단어': 'require', '뜻': '요구하다'}, {'단어': 'relationship', '뜻': '관계'}, {'단어': 'tense', '뜻': '긴장한'}, {'단어': 'kidnap', '뜻': '유괴하다, 납치하다'}, {'단어': 'alert', '뜻': '경계하는'}, {'단어': 'scan', '뜻': '정밀 검사하다'}, {'단어': 'opportunity', '뜻': '기회'}, {'단어': 'lessen', '뜻': '줄이다'}, {'단어': 'cosmetic', '뜻': '화장품'}, {'단어': 'distribute', '뜻': '분배하다, 분포시키다'}, {'단어': 'magnitude', '뜻': '크기, 규모'}, {'단어': 'ray', '뜻': '광선'}, {'단어': 'equator', '뜻': '적도'}, {'단어': 'retire', '뜻': '은퇴하다'}, {'단어': 'opponent', '뜻': '상대, 반대자'}, {'단어': 'curve', '뜻': '곡선, 구부리다'}, {'단어': 'remedy', '뜻': '치료, 치료하다'}, {'단어': 'tissue', '뜻': '조직, 화장지'}, {'단어': 'develop', '뜻': '개발하다, 발전하다'}, {'단어': 'gender', '뜻': '성별'}, {'단어': 'slave', '뜻': '노예'}, {'단어': 'wound', '뜻': '부상, 부상하게 하다'}, {'단어': 'grudge', '뜻': '원한, 유감'}, {'단어': 'symphony', '뜻': '교향곡'}, {'단어': 'rank', '뜻': '등급, 순위'}, {'단어': 'division', '뜻': '분할, 나누기'}, {'단어': 'gear', '뜻': '장비, 기어'}, {'단어': 'shred', '뜻': '갈기갈기 찢다'}, {'단어': 'hesitate', '뜻': '주저하다, 망설이다'}, {'단어': 'enthusiasm', '뜻': '열광, 열정'}, {'단어': 'productive', '뜻': '생산적인, 다산의'}, {'단어': 'deceive', '뜻': '속이다'}, {'단어': 'reckless', '뜻': '부주의한, 무모한'}, {'단어': 'soar', '뜻': '높이 치솟다'}, {'단어': 'estimate', '뜻': '견적, 평가하다'}, {'단어': 'divine', '뜻': '신의, 신성한'}, {'단어': 'pledge', '뜻': '약속, 맹세, 약속하다, 맹세하다'}, {'단어': 'motion', '뜻': '움직임, 운동'}, {'단어': 'successive', '뜻': '연속되는, 상속의'}, {'단어': 'authority', '뜻': '권위, 당국'}, {'단어': 'blame', '뜻': '비난하다, ~의 탓으로 돌리다'}, {'단어': 'veterinarian', '뜻': '수의사'}, {'단어': 'organism', '뜻': '유기체, 생명체'}, {'단어': 'discharge', '뜻': '배출, 방전, 배출하다, 내보내다'}, {'단어': 'backward', '뜻': '뒤쪽으로'}, {'단어': 'earn', '뜻': '얻다, 벌다'}, {'단어': 'remind', '뜻': '상기시키다'}, {'단어': 'social', '뜻': '사회의, 사교적인'}, {'단어': 'aspire', '뜻': '열망하다'}, {'단어': 'hygiene', '뜻': '위생'}, {'단어': 'imprison', '뜻': '투옥하다'}, {'단어': 'damp', '뜻': '축축한, 습기'}, {'단어': 'steer', '뜻': '조종하다'}, {'단어': 'paradox', '뜻': '역설'}, {'단어': 'admire', '뜻': '감탄하다'}, {'단어': 'enlist', '뜻': '모집하다, 도움을 얻다'}, {'단어': 'harass', '뜻': '괴롭히다'}, {'단어': 'afford', '뜻': '여유가 있다'}, {'단어': 'deplete', '뜻': '고갈시키다'}, {'단어': 'counterattack', '뜻': '반격, 역습'}, {'단어': 'cumulative', '뜻': '누적되는, 점증적인'}, {'단어': 'investment', '뜻': '투자'}, {'단어': 'outcome', '뜻': '결과'}, {'단어': 'emperor', '뜻': '황제'}, {'단어': 'script', '뜻': '손으로 쓰기, 대본'}];
    let current = 0;
    let paused = false;
    let interval = null;
    let delayTimeout = null;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "en-US";
      const voices = speechSynthesis.getVoices();
      const native = voices.find(v => v.name.includes("Google US") || v.name === "Samantha");
      if (native) utter.voice = native;
      speechSynthesis.speak(utter);
    }

    function renderQuestion(index) {
      const q = quiz[index];
      document.getElementById("question").textContent = q.단어 || q.word;
      speak(q.단어 || q.word);

      const options = [q.뜻];
      while (options.length < 4) {
        let random = quiz[Math.floor(Math.random() * quiz.length)];
        let m = random.뜻;
        if (!options.includes(m)) options.push(m);
      }
      shuffle(options);

      const choicesDiv = document.getElementById("choices");
      choicesDiv.innerHTML = "";
      options.forEach(opt => {
        const div = document.createElement("div");
        div.className = "choice";
        div.textContent = opt;
        if (opt === q.뜻) div.dataset.correct = "true";
        choicesDiv.appendChild(div);
      });

      clearTimeout(delayTimeout);
      delayTimeout = setTimeout(() => {
        const correct = [...choicesDiv.children].find(el => el.dataset.correct === "true");
        if (correct) {
          correct.classList.add("correct");
        }
      }, 4000);

      if (interval) clearInterval(interval);
      interval = setInterval(() => {
        if (!paused) goNext();
      }, 5000);
    }

    function goNext(force = false) {
      if (current < quiz.length - 1) {
        current++;
        renderQuestion(current);
      } else if (force) {
        alert("마지막 문제입니다!");
      }
    }

    function goBack() {
      if (current > 0) {
        current--;
        renderQuestion(current);
      }
    }

    function togglePause() {
      paused = !paused;
      document.getElementById("pauseBtn").textContent = paused ? "▶️ 재시작" : "⏸ 일시 정지";
    }

    document.addEventListener("click", (e) => {
      if (!paused && e.target.id !== "pauseBtn" && !e.target.classList.contains("nav-btn")) goNext();
    });

    window.onload = function () {
      shuffle(quiz);
      renderQuestion(current);
    };
  </script>
</body>
</html>
