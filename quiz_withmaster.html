
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>자하 퀴즈 - 2000 영단어 퀴즈</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fffdf6;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
    }
    #question {
      font-size: 28px;
      font-weight: bold;
      text-align: center;
      word-break: break-word;
      margin-bottom: 20px;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 90%;
    }
    .choice {
      padding: 14px;
      background: #eee;
      border-radius: 12px;
      text-align: center;
      font-size: 16px;
    }
    .correct {
      background-color: #c8f7c5 !important;
      border: 2px solid #2ecc71;
    }
    .controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 20px;
    }
    .nav-btn {
      padding: 10px 16px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="question">문제 로딩 중...</div>
  <div class="choices" id="choices"></div>
  <div class="controls">
    <button class="nav-btn" onclick="goBack()">⬅️ 이전</button>
    <button class="nav-btn" id="pauseBtn" onclick="togglePause()">⏸ 일시 정지</button>
    <button class="nav-btn" onclick="goNext(true)">➡️ 다음</button>
  </div>
  <script>
    const quiz = [{'단어': 'individual', '뜻': '개인'}, {'단어': 'develop', '뜻': '개발하다, 발전하다'}, {'단어': 'individual', '뜻': '개인'}, {'단어': 'influence', '뜻': '영향을 끼치다'}, {'단어': 'positive', '뜻': '긍정적인'}, {'단어': 'positive', '뜻': '긍정적인'}, {'단어': 'stress', '뜻': '스트레스, 강조하다'}, {'단어': 'provide', '뜻': '공급하다, 준비하다'}, {'단어': 'terrible', '뜻': '끔찍한'}, {'단어': 'individual', '뜻': '개인'}, {'단어': 'encourage', '뜻': '격려하다'}, {'단어': 'develop', '뜻': '개발하다, 발전하다'}, {'단어': 'advise', '뜻': '조언하다'}, {'단어': 'terrible', '뜻': '끔찍한'}, {'단어': 'provide', '뜻': '공급하다, 준비하다'}, {'단어': 'ability', '뜻': '능력'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'ability', '뜻': '능력'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'relationship', '뜻': '관계'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'international', '뜻': '국제적인'}, {'단어': 'terrible', '뜻': '끔찍한'}, {'단어': 'expense', '뜻': '비용'}, {'단어': 'influence', '뜻': '영향을 끼치다'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'employ', '뜻': '고용하다'}, {'단어': 'opportunity', '뜻': '기회'}, {'단어': 'research', '뜻': '연구'}, {'단어': 'develop', '뜻': '개발하다, 발전하다'}, {'단어': 'positive', '뜻': '긍정적인'}, {'단어': 'ride', '뜻': '타다'}, {'단어': 'influence', '뜻': '영향을 끼치다'}, {'단어': 'service', '뜻': '서비스, 봉사'}, {'단어': 'determine', '뜻': '결정하다'}, {'단어': 'influence', '뜻': '영향을 끼치다'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'advise', '뜻': '조언하다'}, {'단어': 'encourage', '뜻': '격려하다'}, {'단어': 'opportunity', '뜻': '기회'}, {'단어': 'amount', '뜻': '총액'}, {'단어': 'research', '뜻': '연구'}, {'단어': 'advise', '뜻': '조언하다'}, {'단어': 'research', '뜻': '연구'}, {'단어': 'employ', '뜻': '고용하다'}, {'단어': 'advise', '뜻': '조언하다'}, {'단어': 'individual', '뜻': '개인'}, {'단어': 'provide', '뜻': '공급하다, 준비하다'}, {'단어': 'employ', '뜻': '고용하다'}, {'단어': 'service', '뜻': '서비스, 봉사'}, {'단어': 'improve', '뜻': '향상시키다'}, {'단어': 'employ', '뜻': '고용하다'}, {'단어': 'improve', '뜻': '향상시키다'}, {'단어': 'provide', '뜻': '공급하다, 준비하다'}, {'단어': 'ability', '뜻': '능력'}, {'단어': 'ability', '뜻': '능력'}, {'단어': 'ride', '뜻': '타다'}, {'단어': 'service', '뜻': '서비스, 봉사'}, {'단어': 'amount', '뜻': '총액'}, {'단어': 'social', '뜻': '사회의'}, {'단어': 'expense', '뜻': '비용'}, {'단어': 'opportunity', '뜻': '기회'}, {'단어': 'inform', '뜻': '알리다, 통지하다'}, {'단어': 'international', '뜻': '국제적인'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'employ', '뜻': '고용하다'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'employ', '뜻': '고용하다'}, {'단어': 'positive', '뜻': '긍정적인'}, {'단어': 'audience', '뜻': '청중'}, {'단어': 'local', '뜻': '지역의'}, {'단어': 'influence', '뜻': '영향을 끼치다'}, {'단어': 'ride', '뜻': '타다'}, {'단어': 'ability', '뜻': '능력'}, {'단어': 'attitude', '뜻': '태도'}, {'단어': 'encourage', '뜻': '격려하다'}, {'단어': 'require', '뜻': '요구하다'}, {'단어': 'terrible', '뜻': '끔찍한'}, {'단어': 'attitude', '뜻': '태도'}, {'단어': 'ability', '뜻': '능력'}, {'단어': 'relationship', '뜻': '관계'}, {'단어': 'stress', '뜻': '스트레스, 강조하다'}, {'단어': 'average', '뜻': '평균'}, {'단어': 'ride', '뜻': '타다'}, {'단어': 'volunteer', '뜻': '자원봉사자'}, {'단어': 'inform', '뜻': '알리다, 통지하다'}, {'단어': 'behave', '뜻': '행동하다'}, {'단어': 'individual', '뜻': '개인'}, {'단어': 'amount', '뜻': '총액'}, {'단어': 'expense', '뜻': '비용'}, {'단어': 'positive', '뜻': '긍정적인'}, {'단어': 'positive', '뜻': '긍정적인'}, {'단어': 'terrible', '뜻': '끔찍한'}, {'단어': 'require', '뜻': '요구하다'}, {'단어': 'attitude', '뜻': '태도'}, {'단어': 'expense', '뜻': '비용'}, {'단어': 'encourage', '뜻': '격려하다'}, {'단어': 'audience', '뜻': '청중'}, {'단어': 'opportunity', '뜻': '기회'}, {'단어': 'amount', '뜻': '총액'}];
    let current = 0;
    let paused = false;
    let interval = null;
    let delayTimeout = null;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "en-US";
      const voices = speechSynthesis.getVoices();
      const native = voices.find(v => v.name.includes("Google US") || v.name === "Samantha");
      if (native) utter.voice = native;
      speechSynthesis.speak(utter);
    }

    function renderQuestion(index) {
      const q = quiz[index];
      document.getElementById("question").textContent = q.단어 || q.word;
      speak(q.단어 || q.word);

      const options = [q.뜻];
      while (options.length < 4) {
        let random = quiz[Math.floor(Math.random() * quiz.length)];
        let m = random.뜻;
        if (!options.includes(m)) options.push(m);
      }
      shuffle(options);

      const choicesDiv = document.getElementById("choices");
      choicesDiv.innerHTML = "";
      options.forEach(opt => {
        const div = document.createElement("div");
        div.className = "choice";
        div.textContent = opt;
        if (opt === q.뜻) div.dataset.correct = "true";
        choicesDiv.appendChild(div);
      });

      clearTimeout(delayTimeout);
      delayTimeout = setTimeout(() => {
        const correct = [...choicesDiv.children].find(el => el.dataset.correct === "true");
        if (correct) {
          correct.classList.add("correct");
        }
      }, 4000);

      if (interval) clearInterval(interval);
      interval = setInterval(() => {
        if (!paused) goNext();
      }, 5000);
    }

    function goNext(force = false) {
      if (current < quiz.length - 1) {
        current++;
        renderQuestion(current);
      } else if (force) {
        alert("마지막 문제입니다!");
      }
    }

    function goBack() {
      if (current > 0) {
        current--;
        renderQuestion(current);
      }
    }

    function togglePause() {
      paused = !paused;
      document.getElementById("pauseBtn").textContent = paused ? "▶️ 재시작" : "⏸ 일시 정지";
    }

    document.addEventListener("click", (e) => {
      if (!paused && e.target.id !== "pauseBtn" && !e.target.classList.contains("nav-btn")) goNext();
    });

    window.onload = function () {
      shuffle(quiz);
      renderQuestion(current);
    };
  </script>
</body>
</html>
